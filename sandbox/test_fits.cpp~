#include <iostream>
#include <vector>
#include <mfree/rwfits.h>

using namespace std;

int main()
{

  vector<int> test_vector;

  for(int i = 0; i < 2500; i++)
    {
      test_vector.push_back(i);
    }

  write_img_to_fits("./test_fits.fits", &test_vector);
  
  vector<float> test_float;

  for(int i = 0; i < 20000; i++)
    {
      test_float.push_back((float) i);
    }

  write_img_to_fits("./test_fits.fits",&test_float,"float",100,200);

  vector<double> test_double;

  for(int i = 0; i < 40000; i++)
    {
      test_double.push_back((double) i);
    }

  write_img_to_fits("./test_fits.fits", &test_double, "double");


  vector<double> in_test;

  read_img_from_fits("/home/merten-l/science/ZwCL0008/images/ZWCL0008E_F606W_drc_sci.fits",&in_test);

  write_img_to_fits("./rw_fits.fits",&in_test);

  read_img_from_fits("/home/merten-l/science/ZwCL0008/images/ZWCL0008E_F814W_drc_sci.fits",&in_test);

  write_img_to_fits("./rw_fits.fits",&in_test,"F814W");






  return 0;

}
